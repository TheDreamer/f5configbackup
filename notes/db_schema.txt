CREATE TABLE ARCHIVE (
ID INTEGER PRIMARY KEY AUTOINCREMENT,
DEVICE INT,
DIR VARCHAR(50),
FILE VARCHAR(50)
);

CREATE TABLE CERTS (
ID INTEGER PRIMARY KEY AUTOINCREMENT,
DEVICE INT NOT NULL,
NAME VARCHAR(50),
ISSUER VARCHAR(50),
EXPIRE INT NOT NULL,
SN VARCHAR(50),
KEY INT,
SUB_C VARCHAR(4),
SUB_S VARCHAR(30),
SUB_L VARCHAR(30),
SUB_O VARCHAR(50),
SUB_OU VARCHAR(50),
SUB_CN VARCHAR(50) );

CREATE TABLE DEVICES (
ID INTEGER PRIMARY KEY AUTOINCREMENT,
NAME TEXT NOT NULL,
IP CHAR(15),
CID_TIME INT,
DATE_ADDED INT,
LAST_DATE INT,
VERSION VACHAR(10),
BUILD VACHAR(10),
MODEL VACHAR(20),
HOSTNAME VARCHAR(50),
DEV_TYPE VARCHAR(50),
SERIAL VARCHAR(70),
ACT_PARTITION VARCHAR(10),
PASSWD VARCHAR(50)
);

CREATE TABLE JOBS (
ID INTEGER PRIMARY KEY AUTOINCREMENT,
DATE DATE NOT NULL,
TIME INT NOT NULL,
ERRORS INT,
COMPLETE BOOLEAN,
DEVICE_TOTAL INT,
DEVICE_COMPLETE INT,
DEVICE_W_ERRORS TEXT
);

CREATE TABLE BACKUP_USER (
ID INT,
NAME VARCHAR(100),
PASS VARCHAR(255)
);
INSERT INTO BACKUP_USER VALUES(0,'','');

CREATE TABLE BACKUP_SETTINGS_INT (
NAME VARCHAR(30),
VALUE INT
);
INSERT INTO BACKUP_SETTINGS_INT VALUES('UCS_ARCHIVE_SIZE','15');
INSERT INTO BACKUP_SETTINGS_INT VALUES('LOG_ARCHIVE_SIZE','30');
INSERT INTO BACKUP_SETTINGS_INT VALUES('BACKUP_TIME','120');

CREATE TABLE AUTH (
ID INT,
AUTHACCT VARCHAR(50),
AUTHHASH VARCHAR(30),
DOMAIN VARCHAR(30)
);
INSERT INTO AUTH VALUES(0,'','','');

CREATE TABLE AUTHSERVERS (
ID INTEGER PRIMARY KEY AUTOINCREMENT,
SERVER VARCHAR(50),
TLS BOOLEAN,
TIMEDOWN INT
);
INSERT INTO "AUTHSERVERS" VALUES(1,'',0,0);
INSERT INTO "AUTHSERVERS" VALUES(2,'',0,0);

CREATE TABLE LOGGING (
NAME VARCHAR(50),
LEVEL VARCHAR(10)
);
INSERT INTO LOGGING VALUES('AUTH','INFO');
INSERT INTO LOGGING VALUES('BACKUPJOB','INFO');
INSERT INTO LOGGING VALUES('BACKUPD','INFO');

-------------------------------------------------------------
PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;

CREATE TABLE ADMIN (
ID INT,
HASH VARCHAR(50));
INSERT INTO "ADMIN" VALUES(1,'');

CREATE TABLE AUTH (
ID INT,
MODE VARCHAR(30)
);
INSERT INTO AUTH VAULES(0,'local');

CREATE TABLE AUTHGROUPS (
ID INTEGER PRIMARY KEY AUTOINCREMENT,
ORD INTEGER,
NAME VARCHAR(30),
STRING VARCHAR(150),
ROLE INT
);

CREATE TABLE ROLES (
ID INT,
NAME VARCHAR(30)
);
INSERT INTO "ROLES" VALUES(1,'Administrator');
INSERT INTO "ROLES" VALUES(2,'Device Admin');
INSERT INTO "ROLES" VALUES(3,'Operator');
INSERT INTO "ROLES" VALUES(4,'Guest');

CREATE TABLE USERS (
ID INTEGER PRIMARY KEY AUTOINCREMENT,
NAME VARCHAR(30),
HASH VARCHAR(100),
ADDED_BY VARCHAR(30),
DATE_ADDED INT,
ROLE INT
);

CREATE TABLE SETTINGS_INT (
NAME VARCHAR(30),
VALUE INT);
INSERT INTO "SETTINGS_INT" VALUES('timeout',12000);

CREATE TABLE SETTINGS_TEXT (
NAME VARCHAR(30),
VALUE VARCHAR(255)
);

CREATE TABLE MOTD (
ID INT,
MOTD TEXT);
INSERT INTO "MOTD" VALUES(1,'WARNING: Unauthorized access to this system is forbidden and will be prosecuted by law. By accessing this system, you agree that your actions may be monitored if unauthorized usage is suspected.');

COMMIT;
