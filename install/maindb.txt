PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;

CREATE TABLE ARCHIVE (
ID INTEGER PRIMARY KEY AUTOINCREMENT,
DEVICE INT,
DIR VARCHAR(50),
FILE VARCHAR(50)
);

CREATE TABLE CERTS_TEMP (
ID INTEGER PRIMARY KEY AUTOINCREMENT,
DEVICE INT NOT NULL,
NAME VARCHAR(50),
ISSUER VARCHAR(50),
EXPIRE INT NOT NULL,
SN VARCHAR(50),
KEY INT,
SUB_C VARCHAR(4),
SUB_S VARCHAR(30),
SUB_L VARCHAR(30),
SUB_O VARCHAR(50),
SUB_OU VARCHAR(50),
SUB_CN VARCHAR(50) );

CREATE TABLE CERTS (
ID INTEGER PRIMARY KEY AUTOINCREMENT,
DEVICE INT NOT NULL,
NAME VARCHAR(50),
ISSUER VARCHAR(50),
EXPIRE INT NOT NULL,
SN VARCHAR(50),
KEY INT,
SUB_C VARCHAR(4),
SUB_S VARCHAR(30),
SUB_L VARCHAR(30),
SUB_O VARCHAR(50),
SUB_OU VARCHAR(50),
SUB_CN VARCHAR(50),
ACK BOOLEAN );

CREATE TABLE DEVICES (
ID INTEGER PRIMARY KEY AUTOINCREMENT,
NAME TEXT NOT NULL,
IP CHAR(15),
CID_TIME INT,
DATE_ADDED INT,
LAST_DATE INT,
VERSION VACHAR(10),
BUILD VACHAR(10),
MODEL VACHAR(20),
HOSTNAME VARCHAR(50),
DEV_TYPE VARCHAR(50),
SERIAL VARCHAR(70),
ACT_PARTITION VARCHAR(10),
PASSWD VARCHAR(50)
);

CREATE TABLE JOBS (
ID INTEGER PRIMARY KEY AUTOINCREMENT,
DATE DATE NOT NULL,
TIME INT NOT NULL,
ERRORS INT,
COMPLETE BOOLEAN,
DEVICE_TOTAL INT,
DEVICE_COMPLETE INT,
DEVICE_W_ERRORS TEXT
);

CREATE TABLE BACKUP_USER (
ID INT,
NAME VARCHAR(100),
PASS VARCHAR(255)
);
INSERT INTO BACKUP_USER VALUES(0,'','');

CREATE TABLE BACKUP_SETTINGS_INT (
NAME VARCHAR(30),
VALUE INT
);
INSERT INTO BACKUP_SETTINGS_INT VALUES('UCS_ARCHIVE_SIZE','15');
INSERT INTO BACKUP_SETTINGS_INT VALUES('LOG_ARCHIVE_SIZE','30');
INSERT INTO BACKUP_SETTINGS_INT VALUES('BACKUP_TIME','120');

CREATE TABLE AUTH (
ID INT,
AUTHACCT VARCHAR(50),
AUTHHASH VARCHAR(30),
DOMAIN VARCHAR(30)
);
INSERT INTO AUTH VALUES(0,'','','');

CREATE TABLE AUTHSERVERS (
ID INTEGER PRIMARY KEY AUTOINCREMENT,
SERVER VARCHAR(50),
TLS BOOLEAN,
TIMEDOWN INT
);
INSERT INTO "AUTHSERVERS" VALUES(1,'',0,0);
INSERT INTO "AUTHSERVERS" VALUES(2,'',0,0);

CREATE TABLE LOGGING (
NAME VARCHAR(50),
LEVEL VARCHAR(10)
);
INSERT INTO LOGGING VALUES('AUTH','INFO');
INSERT INTO LOGGING VALUES('BACKUPJOB','INFO');
INSERT INTO LOGGING VALUES('BACKUPD','INFO');

CREATE TABLE EMAIL (
ID INT,
SEND_REPORT BOOLEAN,
SENDER VARCHAR(50),
SENDER_TITLE VARCHAR(50),
TO_MAIL VARCHAR(255),
SUBJECT VARCHAR(100),
HIDE_ACK BOOLEAN,
DAILY BOOLEAN,
ON_DAY INT,
TLS BOOLEAN,
SERVER VARCHAR(30),
PORT INT,
LOGIN BOOLEAN,
LOGIN_USER VARCHAR(30),
LOGIN_PASS VARCHAR(150)
);
INSERT INTO EMAIL VALUES(
                  0,
                  0,
                  'f5backup@email.com',
                  'Config Backup for F5',
                  '',
                  'Certificate Report',
                  0,
                  1,
                  6,
                  0,
                  'smtp.email.com',
                  25,
                  0,
                  'user',
                  ''
                  );

COMMIT;